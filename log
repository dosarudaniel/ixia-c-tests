./rfc2544_test_multiple_flows.sh -s 768,1024,1518,9000 -direction upstream
frame_sizes=768,1024,1518,9000
direction=upstream
frame_sizes=768,1024,1518,9000
direction=upstream
Running test: python3 -m pytest ./py/test_throughput_rfc2544_multiple_flows.py  --frame_sizes 768,1024,1518,9000  --direction upstream
============================= test session starts ==============================
platform linux -- Python 3.10.6, pytest-6.2.5, py-1.11.0, pluggy-1.2.0 -- /usr/bin/python3
cachedir: .pytest_cache
metadata: {'Python': '3.10.6', 'Platform': 'Linux-5.15.0-76-generic-x86_64-with-glibc2.35', 'Packages': {'pytest': '6.2.5', 'py': '1.11.0', 'pluggy': '1.2.0'}, 'Plugins': {'metadata': '1.11.0', 'html': '3.2.0'}}
rootdir: /home/ixia/ixia-c-tests/py, configfile: pytest.ini
plugins: metadata-1.11.0, html-3.2.0
collecting ... collected 1 item

py/test_throughput_rfc2544_multiple_flows.py::test_throughput_rfc2544_multiple_flows Importing config /home/ixia/ixia-c-tests/configs/throughput_rfc2544_4_flows.json ...

--------------------------------------------------
This is a throughput test (based on RFC-2544 procedure.
Frame sizes in the test: [768, 1024, 1518, 9000]
Packet loss tolerance: 0.0
Number of flows: 4
Direction: upstream
--------------------------------------------------
{'THEORETICAL_MAX_LINK_SPEED': '100 Gbps', 'PACKET_LOSS_TOLERANCE': '0.0%', 'NO_DETERMINATION_STEPS': 10, 'NO_VALIDATION_STEPS': 5, 'TRIAL_RUN_TIME': '5s', 'FINAL_RUN_TIME': '30s', 'VALIDATION_DECREASE_LINE_PERCENTAGE': '4%', 'NUMBER_OF_FLOWS': '4 flows'}
--------------------------------------------------



--- Determining throughput for 768 B packets --- 

Step [768B]: 1
Current line rate search interval [PER FLOW]: [0.0 %; 25.0 %]. Trial run with 12.5 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 39.388M; rcv_pkts 39.388M; Lost packets 0
Total actual sent throughput: 48.4 Gbps
Total actual received throughput: 48.4 Gbps
Current number of packets lost = 0
Current packet loss percentage = 0.0 %

Step [768B]: 2
Current line rate search interval [PER FLOW]: [12.51 %; 25.0 %]. Trial run with 18.75 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 58.33M; rcv_pkts 58.33M; Lost packets 0
Total actual sent throughput: 71.676 Gbps
Total actual received throughput: 71.676 Gbps
Current number of packets lost = 0
Current packet loss percentage = 0.0 %

Step [768B]: 3
Current line rate search interval [PER FLOW]: [18.77 %; 25.0 %]. Trial run with 21.88 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 67.98M; rcv_pkts 64.999M; Lost packets 2981114
Total actual sent throughput: 83.534 Gbps
Total actual received throughput: 79.87 Gbps
Current number of packets lost = 2981114
Current packet loss percentage = 4.385291 %

Step [768B]: 4
Current line rate search interval [PER FLOW]: [18.77 %; 21.87 %]. Trial run with 20.32 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 63.312M; rcv_pkts 63.312M; Lost packets 0
Total actual sent throughput: 77.797 Gbps
Total actual received throughput: 77.797 Gbps
Current number of packets lost = 0
Current packet loss percentage = 0.0 %

Step [768B]: 5
Current line rate search interval [PER FLOW]: [20.33 %; 21.87 %]. Trial run with 21.1 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 65.64M; rcv_pkts 64.879M; Lost packets 761424
Total actual sent throughput: 80.659 Gbps
Total actual received throughput: 79.723 Gbps
Current number of packets lost = 761424
Current packet loss percentage = 1.159996 %

Step [768B]: 6
Current line rate search interval [PER FLOW]: [20.33 %; 21.09 %]. Trial run with 20.71 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 64.651M; rcv_pkts 64.65M; Lost packets 1361
Total actual sent throughput: 79.444 Gbps
Total actual received throughput: 79.442 Gbps
Current number of packets lost = 1361
Current packet loss percentage = 0.002105 %

Step [768B]: 7
Current line rate search interval [PER FLOW]: [20.33 %; 20.7 %]. Trial run with 20.51 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 64.062M; rcv_pkts 64.062M; Lost packets 0
Total actual sent throughput: 78.72 Gbps
Total actual received throughput: 78.72 Gbps
Current number of packets lost = 0
Current packet loss percentage = 0.0 %

Step [768B]: 8
Current line rate search interval [PER FLOW]: [20.52 %; 20.7 %]. Trial run with 20.61 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 64.527M; rcv_pkts 64.527M; Lost packets 136
Total actual sent throughput: 79.291 Gbps
Total actual received throughput: 79.291 Gbps
Current number of packets lost = 136
Current packet loss percentage = 0.000211 %

Step [768B]: 9
Current line rate search interval [PER FLOW]: [20.52 %; 20.6 %]. Trial run with 20.56 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 64.267M; rcv_pkts 64.267M; Lost packets 0
Total actual sent throughput: 78.972 Gbps
Total actual received throughput: 78.972 Gbps
Current number of packets lost = 0
Current packet loss percentage = 0.0 %

Step [768B]: 10
Current line rate search interval [PER FLOW]: [20.57 %; 20.6 %]. Trial run with 20.59 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 64.245M; rcv_pkts 64.245M; Lost packets 0
Total actual sent throughput: 78.944 Gbps
Total actual received throughput: 78.944 Gbps
Current number of packets lost = 0
Current packet loss percentage = 0.0 %
- Determined Total max RX rate for 768B packets is 13.0 Mpps. Equivalent to 79870.0 Mbps.


To confirm the results determined during trial tests we are running 30s tests again, and check the packet loss percentage

Running with 20.588 % line rate per flow...
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
flow_results[0].frames_rx = 96439456
sent_pkts: 385301024 
size 768 
run time 30

Validation: Actual sent throughput: 78.91 Gbps
Validation: Actual received throughput: 78.91 Gbps
### 30s test result for 768B frame size: sent_pkts 385.301M; rcv_pkts  385.301M; lost_pkts = 2; packet_loss_percentage = 0.0 %
The 30s test with 20.588 % line rate per flow did NOT pass, trying again with 19.764 % line rate PER FLOW.

Running with 19.764 % line rate per flow...
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
flow_results[0].frames_rx = 92879680
sent_pkts: 371302624 
size 768 
run time 30

Validation: Actual sent throughput: 76.043 Gbps
Validation: Actual received throughput: 76.043 Gbps
### 30s test result for 768B frame size: sent_pkts 371.303M; rcv_pkts  371.303M; lost_pkts = 0; packet_loss_percentage = 0.0 %
The 30s test with 19.764% per flow per flow PASSED
{'768': ['12.377 Mpps', '76043.0 Mbps', '19.76 % per flow', '0 packets lost', '0.0 % loss']}


--- Determining throughput for 1024 B packets --- 

Step [1024B]: 1
Current line rate search interval [PER FLOW]: [0.0 %; 25.0 %]. Trial run with 12.5 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 29.83M; rcv_pkts 29.83M; Lost packets 0
Total actual sent throughput: 48.873 Gbps
Total actual received throughput: 48.873 Gbps
Current number of packets lost = 0
Current packet loss percentage = 0.0 %

Step [1024B]: 2
Current line rate search interval [PER FLOW]: [12.51 %; 25.0 %]. Trial run with 18.75 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 44.488M; rcv_pkts 44.488M; Lost packets 0
Total actual sent throughput: 72.889 Gbps
Total actual received throughput: 72.889 Gbps
Current number of packets lost = 0
Current packet loss percentage = 0.0 %

Step [1024B]: 3
Current line rate search interval [PER FLOW]: [18.77 %; 25.0 %]. Trial run with 21.88 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 51.784M; rcv_pkts 50.41M; Lost packets 1373929
Total actual sent throughput: 84.842 Gbps
Total actual received throughput: 82.591 Gbps
Current number of packets lost = 1373929
Current packet loss percentage = 2.653209 %

Step [1024B]: 4
Current line rate search interval [PER FLOW]: [18.77 %; 21.87 %]. Trial run with 20.32 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 48.042M; rcv_pkts 48.042M; Lost packets 0
Total actual sent throughput: 78.713 Gbps
Total actual received throughput: 78.713 Gbps
Current number of packets lost = 0
Current packet loss percentage = 0.0 %

Step [1024B]: 5
Current line rate search interval [PER FLOW]: [20.33 %; 21.87 %]. Trial run with 21.1 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 49.924M; rcv_pkts 49.921M; Lost packets 2611
Total actual sent throughput: 81.795 Gbps
Total actual received throughput: 81.791 Gbps
Current number of packets lost = 2611
Current packet loss percentage = 0.00523 %

Step [1024B]: 6
Current line rate search interval [PER FLOW]: [20.33 %; 21.09 %]. Trial run with 20.71 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 49.012M; rcv_pkts 49.012M; Lost packets 0
Total actual sent throughput: 80.301 Gbps
Total actual received throughput: 80.301 Gbps
Current number of packets lost = 0
Current packet loss percentage = 0.0 %

Step [1024B]: 7
Current line rate search interval [PER FLOW]: [20.72 %; 21.09 %]. Trial run with 20.91 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 49.459M; rcv_pkts 49.459M; Lost packets 0
Total actual sent throughput: 81.033 Gbps
Total actual received throughput: 81.033 Gbps
Current number of packets lost = 0
Current packet loss percentage = 0.0 %

Step [1024B]: 8
Current line rate search interval [PER FLOW]: [20.92 %; 21.09 %]. Trial run with 21.0 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 49.751M; rcv_pkts 49.751M; Lost packets 64
Total actual sent throughput: 81.512 Gbps
Total actual received throughput: 81.512 Gbps
Current number of packets lost = 64
Current packet loss percentage = 0.000129 %

Step [1024B]: 9
Current line rate search interval [PER FLOW]: [20.92 %; 20.99 %]. Trial run with 20.95 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 49.603M; rcv_pkts 49.603M; Lost packets 0
Total actual sent throughput: 81.269 Gbps
Total actual received throughput: 81.269 Gbps
Current number of packets lost = 0
Current packet loss percentage = 0.0 %

Step [1024B]: 10
Current line rate search interval [PER FLOW]: [20.96 %; 20.99 %]. Trial run with 20.98 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 49.662M; rcv_pkts 49.662M; Lost packets 0
Total actual sent throughput: 81.366 Gbps
Total actual received throughput: 81.366 Gbps
Current number of packets lost = 0
Current packet loss percentage = 0.0 %
- Determined Total max RX rate for 1024B packets is 10.082 Mpps. Equivalent to 82591.0 Mbps.


To confirm the results determined during trial tests we are running 30s tests again, and check the packet loss percentage

Running with 20.978 % line rate per flow...
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
flow_results[0].frames_rx = 74424029
sent_pkts: 297430944 
size 1024 
run time 30

Validation: Actual sent throughput: 81.218 Gbps
Validation: Actual received throughput: 81.218 Gbps
### 30s test result for 1024B frame size: sent_pkts 297.431M; rcv_pkts  297.431M; lost_pkts = 17; packet_loss_percentage = 1e-05 %
The 30s test with 20.978 % line rate per flow did NOT pass, trying again with 20.139 % line rate PER FLOW.

Running with 20.139 % line rate per flow...
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
flow_results[0].frames_rx = 71508864
sent_pkts: 285898464 
size 1024 
run time 30

Validation: Actual sent throughput: 78.069 Gbps
Validation: Actual received throughput: 78.069 Gbps
### 30s test result for 1024B frame size: sent_pkts 285.898M; rcv_pkts  285.898M; lost_pkts = 0; packet_loss_percentage = 0.0 %
The 30s test with 20.139% per flow per flow PASSED
{'768': ['12.377 Mpps', '76043.0 Mbps', '19.76 % per flow', '0 packets lost', '0.0 % loss'], '1024': ['9.53 Mpps', '78069.0 Mbps', '20.14 % per flow', '0 packets lost', '0.0 % loss']}


--- Determining throughput for 1518 B packets --- 

Step [1518B]: 1
Current line rate search interval [PER FLOW]: [0.0 %; 25.0 %]. Trial run with 12.5 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 19.668M; rcv_pkts 19.668M; Lost packets 0
Total actual sent throughput: 47.77 Gbps
Total actual received throughput: 47.77 Gbps
Current number of packets lost = 0
Current packet loss percentage = 0.0 %

Step [1518B]: 2
Current line rate search interval [PER FLOW]: [12.51 %; 25.0 %]. Trial run with 18.75 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 30.335M; rcv_pkts 30.335M; Lost packets 0
Total actual sent throughput: 73.678 Gbps
Total actual received throughput: 73.678 Gbps
Current number of packets lost = 0
Current packet loss percentage = 0.0 %

Step [1518B]: 3
Current line rate search interval [PER FLOW]: [18.77 %; 25.0 %]. Trial run with 21.88 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 35.332M; rcv_pkts 34.495M; Lost packets 837408
Total actual sent throughput: 85.815 Gbps
Total actual received throughput: 83.781 Gbps
Current number of packets lost = 837408
Current packet loss percentage = 2.370099 %

Step [1518B]: 4
Current line rate search interval [PER FLOW]: [18.77 %; 21.87 %]. Trial run with 20.32 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 32.912M; rcv_pkts 32.912M; Lost packets 0
Total actual sent throughput: 79.936 Gbps
Total actual received throughput: 79.936 Gbps
Current number of packets lost = 0
Current packet loss percentage = 0.0 %

Step [1518B]: 5
Current line rate search interval [PER FLOW]: [20.33 %; 21.87 %]. Trial run with 21.1 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 34.084M; rcv_pkts 34.081M; Lost packets 3212
Total actual sent throughput: 82.784 Gbps
Total actual received throughput: 82.776 Gbps
Current number of packets lost = 3212
Current packet loss percentage = 0.009424 %

Step [1518B]: 6
Current line rate search interval [PER FLOW]: [20.33 %; 21.09 %]. Trial run with 20.71 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 33.481M; rcv_pkts 33.481M; Lost packets 0
Total actual sent throughput: 81.32 Gbps
Total actual received throughput: 81.32 Gbps
Current number of packets lost = 0
Current packet loss percentage = 0.0 %

Step [1518B]: 7
Current line rate search interval [PER FLOW]: [20.72 %; 21.09 %]. Trial run with 20.91 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 33.795M; rcv_pkts 33.795M; Lost packets 0
Total actual sent throughput: 82.081 Gbps
Total actual received throughput: 82.081 Gbps
Current number of packets lost = 0
Current packet loss percentage = 0.0 %

Step [1518B]: 8
Current line rate search interval [PER FLOW]: [20.92 %; 21.09 %]. Trial run with 21.0 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 33.932M; rcv_pkts 33.931M; Lost packets 415
Total actual sent throughput: 82.413 Gbps
Total actual received throughput: 82.412 Gbps
Current number of packets lost = 415
Current packet loss percentage = 0.001223 %

Step [1518B]: 9
Current line rate search interval [PER FLOW]: [20.92 %; 20.99 %]. Trial run with 20.95 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 33.835M; rcv_pkts 33.835M; Lost packets 0
Total actual sent throughput: 82.178 Gbps
Total actual received throughput: 82.178 Gbps
Current number of packets lost = 0
Current packet loss percentage = 0.0 %

Step [1518B]: 10
Current line rate search interval [PER FLOW]: [20.96 %; 20.99 %]. Trial run with 20.98 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 33.91M; rcv_pkts 33.909M; Lost packets 233
Total actual sent throughput: 82.36 Gbps
Total actual received throughput: 82.359 Gbps
Current number of packets lost = 233
Current packet loss percentage = 0.000687 %
- Determined Total max RX rate for 1518B packets is 6.899 Mpps. Equivalent to 83781.0 Mbps.


To confirm the results determined during trial tests we are running 30s tests again, and check the packet loss percentage

Running with 20.954 % line rate per flow...
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
flow_results[0].frames_rx = 50773419
sent_pkts: 203119456 
size 1518 
run time 30

Validation: Actual sent throughput: 82.223 Gbps
Validation: Actual received throughput: 82.223 Gbps
### 30s test result for 1518B frame size: sent_pkts 203.119M; rcv_pkts  203.119M; lost_pkts = 70; packet_loss_percentage = 3e-05 %
The 30s test with 20.954 % line rate per flow did NOT pass, trying again with 20.116 % line rate PER FLOW.

Running with 20.116 % line rate per flow...
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
flow_results[0].frames_rx = 48832160
sent_pkts: 195216000 
size 1518 
run time 30

Validation: Actual sent throughput: 79.023 Gbps
Validation: Actual received throughput: 79.023 Gbps
### 30s test result for 1518B frame size: sent_pkts 195.216M; rcv_pkts  195.216M; lost_pkts = 0; packet_loss_percentage = 0.0 %
The 30s test with 20.116% per flow per flow PASSED
{'768': ['12.377 Mpps', '76043.0 Mbps', '19.76 % per flow', '0 packets lost', '0.0 % loss'], '1024': ['9.53 Mpps', '78069.0 Mbps', '20.14 % per flow', '0 packets lost', '0.0 % loss'], '1518': ['6.507 Mpps', '79023.0 Mbps', '20.12 % per flow', '0 packets lost', '0.0 % loss']}


--- Determining throughput for 9000 B packets --- 

Step [9000B]: 1
Current line rate search interval [PER FLOW]: [0.0 %; 25.0 %]. Trial run with 12.5 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 3.381M; rcv_pkts 3.381M; Lost packets 0
Total actual sent throughput: 48.686 Gbps
Total actual received throughput: 48.686 Gbps
Current number of packets lost = 0
Current packet loss percentage = 0.0 %

Step [9000B]: 2
Current line rate search interval [PER FLOW]: [12.51 %; 25.0 %]. Trial run with 18.75 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 5.055M; rcv_pkts 5.055M; Lost packets 0
Total actual sent throughput: 72.797 Gbps
Total actual received throughput: 72.797 Gbps
Current number of packets lost = 0
Current packet loss percentage = 0.0 %

Step [9000B]: 3
Current line rate search interval [PER FLOW]: [18.77 %; 25.0 %]. Trial run with 21.88 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 5.897M; rcv_pkts 5.897M; Lost packets 0
Total actual sent throughput: 84.921 Gbps
Total actual received throughput: 84.921 Gbps
Current number of packets lost = 0
Current packet loss percentage = 0.0 %

Step [9000B]: 4
Current line rate search interval [PER FLOW]: [21.89 %; 25.0 %]. Trial run with 23.45 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 6.315M; rcv_pkts 6.315M; Lost packets 0
Total actual sent throughput: 90.93 Gbps
Total actual received throughput: 90.93 Gbps
Current number of packets lost = 0
Current packet loss percentage = 0.0 %

Step [9000B]: 5
Current line rate search interval [PER FLOW]: [23.46 %; 25.0 %]. Trial run with 24.23 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 6.513M; rcv_pkts 6.513M; Lost packets 0
Total actual sent throughput: 93.788 Gbps
Total actual received throughput: 93.788 Gbps
Current number of packets lost = 0
Current packet loss percentage = 0.0 %

Step [9000B]: 6
Current line rate search interval [PER FLOW]: [24.24 %; 25.0 %]. Trial run with 24.62 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 6.624M; rcv_pkts 6.624M; Lost packets 0
Total actual sent throughput: 95.39 Gbps
Total actual received throughput: 95.39 Gbps
Current number of packets lost = 0
Current packet loss percentage = 0.0 %

Step [9000B]: 7
Current line rate search interval [PER FLOW]: [24.63 %; 25.0 %]. Trial run with 24.81 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 6.679M; rcv_pkts 6.679M; Lost packets 0
Total actual sent throughput: 96.175 Gbps
Total actual received throughput: 96.175 Gbps
Current number of packets lost = 0
Current packet loss percentage = 0.0 %

Step [9000B]: 8
Current line rate search interval [PER FLOW]: [24.82 %; 25.0 %]. Trial run with 24.91 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 6.703M; rcv_pkts 6.703M; Lost packets 0
Total actual sent throughput: 96.521 Gbps
Total actual received throughput: 96.521 Gbps
Current number of packets lost = 0
Current packet loss percentage = 0.0 %

Step [9000B]: 9
Current line rate search interval [PER FLOW]: [24.92 %; 25.0 %]. Trial run with 24.96 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 6.712M; rcv_pkts 6.712M; Lost packets 0
Total actual sent throughput: 96.659 Gbps
Total actual received throughput: 96.659 Gbps
Current number of packets lost = 0
Current packet loss percentage = 0.0 %

Step [9000B]: 10
Current line rate search interval [PER FLOW]: [24.97 %; 25.0 %]. Trial run with 24.99 %. 
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
sent_pkts 6.727M; rcv_pkts 6.727M; Lost packets 0
Total actual sent throughput: 96.869 Gbps
Total actual received throughput: 96.869 Gbps
Current number of packets lost = 0
Current packet loss percentage = 0.0 %
- Determined Total max RX rate for 9000B packets is 1.345 Mpps. Equivalent to 96869.0 Mbps.


To confirm the results determined during trial tests we are running 30s tests again, and check the packet loss percentage

Running with 24.986 % line rate per flow...
Setting config ...
Starting transmit on all flows ...
stop transmit on all flows ...
Fetching all port stats ...
Fetching all flow stats ...
flow_results[0].frames_rx = 10087728
sent_pkts: 40298707 
size 9000 
run time 30

Validation: Actual sent throughput: 96.717 Gbps
Validation: Actual received throughput: 96.717 Gbps
### 30s test result for 9000B frame size: sent_pkts 40.299M; rcv_pkts  40.299M; lost_pkts = 0; packet_loss_percentage = 0.0 %
The 30s test with 24.986% per flow per flow PASSED
{'768': ['12.377 Mpps', '76043.0 Mbps', '19.76 % per flow', '0 packets lost', '0.0 % loss'], '1024': ['9.53 Mpps', '78069.0 Mbps', '20.14 % per flow', '0 packets lost', '0.0 % loss'], '1518': ['6.507 Mpps', '79023.0 Mbps', '20.12 % per flow', '0 packets lost', '0.0 % loss'], '9000': ['1.343 Mpps', '96717.0 Mbps', '24.99 % per flow', '0 packets lost', '0.0 % loss']}
PASSED

======================== 1 passed in 469.48s (0:07:49) =========================
{
  "768": [
    "12.377 Mpps",
    "76043.0 Mbps",
    "19.76 % per flow",
    "0 packets lost",
    "0.0 % loss"
  ],
  "1024": [
    "9.53 Mpps",
    "78069.0 Mbps",
    "20.14 % per flow",
    "0 packets lost",
    "0.0 % loss"
  ],
  "1518": [
    "6.507 Mpps",
    "79023.0 Mbps",
    "20.12 % per flow",
    "0 packets lost",
    "0.0 % loss"
  ],
  "9000": [
    "1.343 Mpps",
    "96717.0 Mbps",
    "24.99 % per flow",
    "0 packets lost",
    "0.0 % loss"
  ],
  "test_settings": {
    "THEORETICAL_MAX_LINK_SPEED": "100 Gbps",
    "PACKET_LOSS_TOLERANCE": "0.0%",
    "NO_DETERMINATION_STEPS": 10,
    "NO_VALIDATION_STEPS": 5,
    "TRIAL_RUN_TIME": "5s",
    "FINAL_RUN_TIME": "30s",
    "VALIDATION_DECREASE_LINE_PERCENTAGE": "4%",
    "NUMBER_OF_FLOWS": "4 flows"
  },
  "flows": {
    "f1": "10.3.147.35:5551 -> 10.3.147.36:5551",
    "f2": "10.3.147.35:5552 -> 10.3.147.36:5552",
    "f3": "10.3.147.35:5553 -> 10.3.147.36:5553",
    "f4": "10.3.147.35:5554 -> 10.3.147.36:5554"
  }
}
